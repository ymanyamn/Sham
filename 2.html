<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±</title>
  <style>
    body {
      background: #121212;
      color: #f5f5f5;
      font-family: 'Segoe UI', sans-serif;
      direction: rtl;
      padding: 20px;
      text-align: center;
    }
    .logo {
      width: 250px;
      margin-bottom: 25px;
      border-radius: 25px;
      box-shadow: 0 0 25px rgba(255, 152, 0, 0.5);
    }
    h2 {
      color: #ff9800;
      margin-bottom: 10px;
    }
    input {
      padding: 10px;
      margin: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: none;
      background: #333;
      color: #fff;
      width: 200px;
    }
    button {
      padding: 10px 20px;
      background: #00796b;
      color: #212121;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #555;
      padding: 8px;
    }
    #adminPanel {
      display: none;
    }
    #notification {
      margin-top: 25px;
      color: #4caf50;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <!-- Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© -->
  <img src="logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©" class="logo">
  <h2>Ù†Ù‚Ø±Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø±ØºÙ… Ø§Ù„ØµØ¹ÙˆØ¨Ø§Øª </h2>
  <h2>Ù…Ø¯Ø±Ø³Ø© Ø¨Ø¯Ø± Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„ØºØ²Ø§Ù„</h2>
  <p>Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ</p>

  <!-- Ù†Ù…ÙˆØ°Ø¬ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
  <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <button onclick="checkPassword()">Ø¯Ø®ÙˆÙ„</button>
  <div id="notification"></div>

  <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
  <div id="adminPanel">
    <h3>ğŸ§‘â€ğŸ’¼ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±</h3>
    <button onclick="exportJSON()">ğŸ“¥ ØªØµØ¯ÙŠØ± JSON</button>
    <div id="adminData"></div>
  </div>

  <script>
    const adminPassword = "1234"; // ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ±Ù‡ Ù‡Ù†Ø§
    let studentsData = JSON.parse(localStorage.getItem("studentsData") || "[]");

    function checkPassword() {
      const input = document.getElementById("password").value;
      const note = document.getElementById("notification");
      if (input === adminPassword) {
        document.getElementById("adminPanel").style.display = "block";
        note.textContent = "âœ… ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­";
        showAdminData();
      } else {
        note.textContent = "âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©";
      }
    }

    function showAdminData() {
      const container = document.getElementById("adminData");
      if (studentsData.length === 0) {
        container.innerHTML = "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯.</p>";
        return;
      }

      let html = "<table><tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„ØµÙ</th><th>Ø§Ù„Ø´Ø¹Ø¨Ø©</th><th>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯</th><th>Ø­Ø°Ù</th></tr>";
      studentsData.forEach((s, i) => {
        html += `<tr>
          <td>${s.name}</td>
          <td>${s.class}</td>
          <td>${s.group}</td>
          <td>${Object.keys(s.status).length}</td>
          <td><button onclick="deleteStudent(${i})">ğŸ—‘ï¸ Ø­Ø°Ù</button></td>
        </tr>`;
      });
      html += "</table>";
      container.innerHTML = html;
    }

    function deleteStudent(index) {
      if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ø§Ù„Ø¨ØŸ")) {
        studentsData.splice(index, 1);
        localStorage.setItem("studentsData", JSON.stringify(studentsData));
        showAdminData();
      }
    }

    function exportJSON() {
      const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(studentsData, null, 2));
      const dl = document.createElement("a");
      dl.setAttribute("href", dataStr);
      dl.setAttribute("download", "studentsData.json");
      dl.click();
    }
  </script>
</body>
</html>